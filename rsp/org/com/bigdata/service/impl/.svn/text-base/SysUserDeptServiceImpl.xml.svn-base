<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL MAP 2.0//EN"
  "http://www.ibatis.com/dtd/sql-map-2.dtd">
<!-- author:jameson.fang created:2013-09-10 22:59:38 version:1.0 -->
<!--
	(SYS_USER_DEPT) :${table.comment}
��ݿ�ṹ��:
	USER_ID(VARCHAR2)	:用户ID
	DEPT_ID(VARCHAR2)	:部门ID
	FLAG(CHAR)	:启动标示符
	CREATE_BY(VARCHAR2)	:创建人
	CREATE_DATE(TIMESTAMP(6))	:创建时间
	UDF1(VARCHAR2)	:
	UDF2(VARCHAR2)	:
	UDF3(VARCHAR2)	:
	UDF4(VARCHAR2)	:
	UDF5(VARCHAR2)	:
sqlMapConfig:
	<typeAlias alias="SysUserDept" type="SysUserDept" />
	<sqlMap resource="com/wave/service/impl/SysUserDeptServiceImpl.xml" />
-->
<sqlMap namespace="SysUserDept">

<parameterMap id="SysUserDeptMap" class="SysUserDept">
	<parameter property="userId" javaType="String" />
	<parameter property="deptId" javaType="String" />
	<parameter property="flag" javaType="String" />
	<parameter property="createBy" javaType="String" />
	<parameter property="createDate" javaType="java.util.Date" />
	<parameter property="udf1" javaType="String" />
	<parameter property="udf2" javaType="String" />
	<parameter property="udf3" javaType="String" />
	<parameter property="udf4" javaType="String" />
	<parameter property="udf5" javaType="String" />
</parameterMap>


<insert id="insertSysUserDept" parameterMap="SysUserDeptMap">
<!--<selectKey resultClass="Integer" keyProperty="userId">
	SELECT SYS_USER_DEPT_SEQ.NEXTVAL FROM DUAL
</selectKey>-->
<![CDATA[
INSERT INTO SYS_USER_DEPT (
 USER_ID,
 DEPT_ID,
 FLAG,
 CREATE_BY,
 CREATE_DATE,
 UDF1,
 UDF2,
 UDF3,
 UDF4,
 UDF5
)VALUES(
 ?,
 ?,
 ?,
 ?,
 ?,
 ?,
 ?,
 ?,
 ?,
 ?
)
]]>
</insert>

<resultMap id="SysUserDeptResult" class="SysUserDept" groupBy="userId">
  <result property="userId" column="USER_ID"/>
  <result property="deptId" column="DEPT_ID"/>
  <result property="flag" column="FLAG"/>
  <result property="createBy" column="CREATE_BY"/>
  <result property="createDate" column="CREATE_DATE"/>
  <result property="udf1" column="UDF1"/>
  <result property="udf2" column="UDF2"/>
  <result property="udf3" column="UDF3"/>
  <result property="udf4" column="UDF4"/>
  <result property="udf5" column="UDF5"/>
</resultMap>



<update id="updateSysUserDept" parameterClass="SysUserDept">
<![CDATA[
UPDATE SYS_USER_DEPT SET ]]>
<isNotNull prepend="," property="deptId">	
	<![CDATA[ DEPT_ID = #deptId# ]]>
</isNotNull>
<isNotNull prepend="," property="flag">	
	<![CDATA[ FLAG = #flag# ]]>
</isNotNull>
<isNotNull prepend="," property="createBy">	
	<![CDATA[ CREATE_BY = #createBy# ]]>
</isNotNull>
<isNotNull prepend="," property="createDate">	
	<![CDATA[ CREATE_DATE = #createDate# ]]>
</isNotNull>
<isNotNull prepend="," property="udf1">	
	<![CDATA[ UDF1 = #udf1# ]]>
</isNotNull>
<isNotNull prepend="," property="udf2">	
	<![CDATA[ UDF2 = #udf2# ]]>
</isNotNull>
<isNotNull prepend="," property="udf3">	
	<![CDATA[ UDF3 = #udf3# ]]>
</isNotNull>
<isNotNull prepend="," property="udf4">	
	<![CDATA[ UDF4 = #udf4# ]]>
</isNotNull>
<isNotNull prepend="," property="udf5">	
	<![CDATA[ UDF5 = #udf5# ]]>
</isNotNull>
<![CDATA[ WHERE USER_ID = #userId#
]]>
</update>

<delete id="deleteSysUserDept" parameterClass="Map">
<![CDATA[
DELETE FROM SYS_USER_DEPT 
WHERE userId = #userId#
]]>
</delete>

<select id="searchSysUserDeptByParams" parameterClass="Map" resultMap="SysUserDeptResult">
<![CDATA[
SELECT
 USER_ID,
 DEPT_ID,
 FLAG,
 CREATE_BY,
 CREATE_DATE,
 UDF1,
 UDF2,
 UDF3,
 UDF4,
 UDF5 
FROM SYS_USER_DEPT
]]>
<dynamic prepend="WHERE">
 <isNotNull prepend="AND" property="userId">
  <![CDATA[ USER_ID LIKE #userId# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="deptId">
  <![CDATA[ DEPT_ID LIKE #deptId# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="flag">
  <![CDATA[ FLAG LIKE #flag# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="createBy">
  <![CDATA[ CREATE_BY LIKE #createBy# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="createDateAfter">
  <![CDATA[ CREATE_DATE >= #createDateAfter# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="createDateBefor">
  <![CDATA[ CREATE_DATE <= #createDateBefor# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="udf1">
  <![CDATA[ UDF1 LIKE #udf1# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="udf2">
  <![CDATA[ UDF2 LIKE #udf2# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="udf3">
  <![CDATA[ UDF3 LIKE #udf3# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="udf4">
  <![CDATA[ UDF4 LIKE #udf4# ]]>
 </isNotNull>
 <isNotNull prepend="AND" property="udf5">
  <![CDATA[ UDF5 LIKE #udf5# ]]>
 </isNotNull>
</dynamic>
<isNotNull property="orderBy">	
 ORDER BY $orderBy$
</isNotNull>
</select>

</sqlMap>